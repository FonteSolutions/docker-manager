<!DOCTYPE html>
<html lang="">

<head>
    <title>DockerManager</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Simple electron angular2">
    <meta name="theme-color" content="#00bcd4">
</head>

<body>
    <app-container>Loading...</app-container>
    <script src="dist/polyfills.js"></script>
    <script src="dist/vendor.js"></script>
    <script>
        var electron = require('electron');
        var fs = require('fs');
        var SQL = require('sql.js');
        var process = require('process');

        var path = process.argv[2] == 'dev' ? '/src/app' : '';
        var dbPath = __dirname + path + '/dkm.db';
        var db = __dirname + path + '/dkm.db';

        if (!fs.existsSync(dbPath)) {
            fs.writeFileSync(dbPath, '');
        }
        var filebuffer = fs.readFileSync(dbPath);
        if (filebuffer) {
            db = new SQL.Database(filebuffer);
        }

        // electron.remote.ipcMain.on('save-db', function(event, arg) {
        //     // event.sender.send('blablabla', [arguments])
        //     console.log('save-dbbb', arg, db);
        //     // saveDb();
        // });
    </script>
    <script src="dist/app.js"></script>
</body>

</html>
